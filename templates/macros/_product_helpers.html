{% macro product_card(product) %}
<div class="col">
    <div class="card h-100 product-card">
        <div class="product-image-container">
            <a href="{{ url_for('home_bp.product_details_page', product_id=product.product_id) }}">
                <img src="{{ ('/' + product.image_url) if product.image_url else url_for('static', filename='images/placeholder.png') }}" 
                     class="card-img-top" 
                     alt="{{ product.name }}">
            </a>
            <button class="btn btn-sm btn-outline-danger wishlist-toggle-btn" title="Add to Wishlist" data-product-id="{{ product.product_id }}">
                <i class="far fa-heart"></i>
            </button>
        </div>
        <div class="card-body d-flex flex-column">
            <h5 class="card-title flex-grow-1">
                <a href="{{ url_for('home_bp.product_details_page', product_id=product.product_id) }}" class="text-decoration-none text-dark stretched-link">
                    {{ product.name }}
                </a>
            </h5>
            <p class="card-text fw-bold text-primary fs-5 mb-2">${{ "%.2f"|format(product.price) }}</p>
            <button class="btn btn-sm btn-primary add-to-cart-btn w-100" data-product-id="{{ product.product_id }}">
                <i class="fas fa-cart-plus me-2"></i>Add to Cart
            </button>
        </div>
    </div>
</div>
{% endmacro %}